<Window x:Class="KdxDesigner.Views.InterlockPreConditionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="インターロック前提条件設定" Height="600" Width="900">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="LightGray" Padding="10">
            <TextBlock FontSize="16" FontWeight="Bold" Text="インターロック前提条件設定"/>
        </Border>

        <!-- PreCondition1 Section -->
        <GroupBox Grid.Row="1" Header="前提条件1 (InterlockPrecondition1)" Margin="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="2*"/>
                </Grid.ColumnDefinitions>

                <!-- PreCondition1 List -->
                <Grid Grid.Column="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <ToolBar Grid.Row="0">
                        <Button Content="新規" Command="{Binding AddPreCondition1Command}"/>
                        <Button Content="削除" Command="{Binding DeletePreCondition1Command}"/>
                    </ToolBar>

                    <DataGrid Grid.Row="1"
                              ItemsSource="{Binding PreCondition1List}"
                              SelectedItem="{Binding SelectedPreCondition1}"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50" IsReadOnly="True"/>
                            <DataGridTextColumn Header="条件名" Binding="{Binding ConditionName}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>

                <!-- PreCondition1 Details -->
                <Grid Grid.Column="1" Margin="10,0,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="選択中の前提条件1:" FontWeight="Bold" Margin="0,0,0,5"/>

                    <Grid Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="条件名:" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="1" Text="{Binding SelectedPreCondition1.ConditionName}" Margin="5,2"/>
                    </Grid>

                    <Grid Grid.Row="2" Margin="0,5,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="説明:" VerticalAlignment="Top"/>
                        <TextBox Grid.Column="1" Text="{Binding SelectedPreCondition1.Discription}"
                                 TextWrapping="Wrap" AcceptsReturn="True" MinHeight="60" Margin="5,2"/>
                    </Grid>

                    <CheckBox Grid.Row="3" Content="この条件を選択"
                              IsChecked="{Binding IsPreCondition1Selected}"
                              Margin="0,10,0,0" FontWeight="Bold"/>
                </Grid>
            </Grid>
        </GroupBox>

        <!-- PreCondition2 Section -->
        <GroupBox Grid.Row="2" Header="前提条件2 (InterlockPrecondition2)" Margin="10,0,10,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="2*"/>
                </Grid.ColumnDefinitions>

                <!-- PreCondition2 List -->
                <Grid Grid.Column="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <ToolBar Grid.Row="0">
                        <Button Content="新規" Command="{Binding AddPreCondition2Command}"/>
                        <Button Content="削除" Command="{Binding DeletePreCondition2Command}"/>
                    </ToolBar>

                    <DataGrid Grid.Row="1"
                              ItemsSource="{Binding PreCondition2List}"
                              SelectedItem="{Binding SelectedPreCondition2}"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50" IsReadOnly="True"/>
                            <DataGridTextColumn Header="モード" Binding="{Binding InterlockMode}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>

                <!-- PreCondition2 Details -->
                <Grid Grid.Column="1" Margin="10,0,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="選択中の前提条件2:" FontWeight="Bold" Margin="0,0,0,5"/>

                    <CheckBox Grid.Row="1" Content="プロセス有効"
                              IsChecked="{Binding SelectedPreCondition2.IsEnableProcess}"
                              Margin="0,5"/>

                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="インターロックモード:" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="1" Text="{Binding SelectedPreCondition2.InterlockMode}" Margin="5,2"/>
                    </Grid>

                    <Grid Grid.Row="3" Margin="0,5,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="開始詳細ID:" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="1" Text="{Binding SelectedPreCondition2.StartDetailId}" Margin="5,2"/>
                    </Grid>

                    <Grid Grid.Row="4" Margin="0,5,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="終了詳細ID:" VerticalAlignment="Center"/>
                        <TextBox Grid.Column="1" Text="{Binding SelectedPreCondition2.EndDetailId}" Margin="5,2"/>
                    </Grid>

                    <CheckBox Grid.Row="5" Content="この条件を選択"
                              IsChecked="{Binding IsPreCondition2Selected}"
                              Margin="0,10,0,0" FontWeight="Bold"/>
                </Grid>
            </Grid>
        </GroupBox>

        <!-- Bottom Buttons -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
            <Button Content="保存" Width="100" Height="30" Margin="5" Command="{Binding SaveCommand}"/>
            <Button Content="キャンセル" Width="100" Height="30" Margin="5" Command="{Binding CancelCommand}"/>
        </StackPanel>
    </Grid>
</Window>